<svg xmlns="http://www.w3.org/2000/svg" width="1920" height="1080" viewBox="0 0 1920 1080">
  <!-- Camera final position: total (-200, -40) -->
  <defs>
    <pattern id="ground" x="0" y="0" width="100" height="100" patternUnits="userSpaceOnUse">
      <rect width="100" height="100" fill="#8B7355"/>
      <circle cx="20" cy="30" r="8" fill="#6B5345"/>
      <circle cx="60" cy="60" r="10" fill="#7B6355"/>
      <circle cx="80" cy="20" r="6" fill="#9B8365"/>
      <rect x="10" y="70" width="30" height="5" fill="#7B6355"/>
      <rect x="50" y="10" width="25" height="4" fill="#6B5345"/>
    </pattern>
    <marker id="cameraArrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#FF00FF"/>
    </marker>
    <marker id="carArrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#00FF00"/>
    </marker>
  </defs>

  <!-- Ground (shifted -200, -40) -->
  <rect x="-200" y="560" width="1920" height="480" fill="url(#ground)"/>

  <!-- Sky (shifted) -->
  <rect x="-200" y="-40" width="1920" height="600" fill="#87CEEB"/>

  <!-- Trees (shifted -200, -40) -->
  <ellipse cx="100" cy="510" rx="80" ry="100" fill="#228B22"/>
  <rect x="80" y="510" width="40" height="100" fill="#8B4513"/>

  <ellipse cx="500" cy="480" rx="100" ry="120" fill="#228B22"/>
  <rect x="475" y="480" width="50" height="120" fill="#8B4513"/>

  <ellipse cx="1000" cy="500" rx="90" ry="110" fill="#228B22"/>
  <rect x="980" y="500" width="40" height="110" fill="#8B4513"/>

  <ellipse cx="1400" cy="490" rx="95" ry="115" fill="#228B22"/>
  <rect x="1377" y="490" width="46" height="115" fill="#8B4513"/>

  <!-- Car world position: 800 + 600 = 1400
       Car frame position: 1400 - 200 = 1200 -->
  <rect x="1200" y="460" width="150" height="100" fill="rgb(255, 0, 0)" stroke="#000000" stroke-width="2"/>
  <rect x="1220" y="480" width="40" height="30" fill="#87CEEB"/>
  <rect x="1280" y="480" width="40" height="30" fill="#87CEEB"/>
  <circle cx="1230" cy="560" r="20" fill="#000000"/>
  <circle cx="1320" cy="560" r="20" fill="#000000"/>
  <text x="1250" y="520" font-family="Arial" font-size="14" fill="#FFFFFF" font-weight="bold">CAR</text>

  <!-- Camera motion indicator -->
  <line x1="250" y1="900" x2="200" y2="890" stroke="#FF00FF" stroke-width="4" marker-end="url(#cameraArrow)"/>
  <text x="260" y="905" font-family="Arial" font-size="12" fill="#FF00FF" font-weight="bold">Camera motion per frame: (-50, -10)</text>

  <!-- Car motion after compensation -->
  <line x1="900" y1="520" x2="1200" y2="520" stroke="#00FF00" stroke-width="4" marker-end="url(#carArrow)" opacity="0.7"/>
  <text x="1000" y="510" font-family="Arial" font-size="12" fill="#00FF00" font-weight="bold">Car motion (compensated): +150px/frame →</text>

  <!-- Test summary box -->
  <rect x="50" y="700" width="650" height="330" fill="#FFFFFF" opacity="0.95"/>
  <text x="70" y="730" font-family="Arial" font-size="14" fill="#000000" font-weight="bold">Test 11.2 Summary: Moving Camera (Drone Flight)</text>

  <text x="90" y="760" font-family="Arial" font-size="12" fill="#000000" font-weight="bold">Camera Motion Per Frame:</text>
  <text x="110" y="780" font-family="Arial" font-size="11" fill="#666666">• Background shift: (-50, -10) px/frame</text>
  <text x="110" y="800" font-family="Arial" font-size="11" fill="#666666">• Camera panned: RIGHT (+50) and UP (+10)</text>

  <text x="90" y="830" font-family="Arial" font-size="12" fill="#000000" font-weight="bold">Object Motion (Car):</text>
  <text x="110" y="850" font-family="Arial" font-size="11" fill="#666666">• World displacement: 800 → 1400 (600px total)</text>
  <text x="110" y="870" font-family="Arial" font-size="11" fill="#666666">• World velocity: +150 px/frame rightward</text>
  <text x="110" y="890" font-family="Arial" font-size="11" fill="#666666">• Frame displacement: 800 → 1200 (400px)</text>

  <text x="90" y="920" font-family="Arial" font-size="12" fill="#00FF00" font-weight="bold">Expected Detection:</text>
  <text x="110" y="940" font-family="Arial" font-size="11" fill="#00AA00">✓ Camera motion detected: (-50, -10) per frame</text>
  <text x="110" y="960" font-family="Arial" font-size="11" fill="#00AA00">✓ Mode: 'moving' or auto-detected</text>
  <text x="110" y="980" font-family="Arial" font-size="11" fill="#00AA00">✓ Car motion compensated: ~150px/frame right</text>
  <text x="110" y="1000" font-family="Arial" font-size="11" fill="#00AA00">✓ Homography matrix calculated</text>

  <text x="90" y="1015" font-family="Arial" font-size="10" fill="#666666">Tests: compensation_strength, auto_mode_threshold,</text>
  <text x="90" y="1030" font-family="Arial" font-size="10" fill="#666666">show_camera_motion, feature matching</text>

  <!-- Frame information -->
  <rect x="0" y="0" width="1920" height="140" fill="#000000" opacity="0.9"/>
  <text x="20" y="35" font-family="Arial" font-size="18" fill="#FFFFFF" font-weight="bold">RealtimeMotionDetector Test 11.2 - Moving Camera (Drone Flight)</text>
  <text x="20" y="65" font-family="Arial" font-size="14" fill="#00FF00">Frame 5/5: Final - Cumulative shift (-200, -40), Car world pos (1400, 500)</text>
  <text x="20" y="90" font-family="Arial" font-size="13" fill="#FF00FF">Camera total motion: (+200, +40) | Per frame: (+50, +10)</text>
  <text x="20" y="115" font-family="Arial" font-size="13" fill="#FFFF00">Algorithm discriminates camera motion from object motion via feature matching</text>
  <text x="1400" y="65" font-family="Arial" font-size="13" fill="#CCCCCC">Camera: (+200, +40)</text>
  <text x="1400" y="90" font-family="Arial" font-size="13" fill="#FFFF00">Car frame: (1200, 460)</text>
  <text x="1400" y="115" font-family="Arial" font-size="13" fill="#00FF00">Car world: (1400, 500)</text>
</svg>
